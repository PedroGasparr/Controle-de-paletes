<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Controle de Paletes - Registrar</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../css/home.css">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <i class="fas fa-pallet"></i>
                <h1>Controle de Paletes</h1>
            </div>
            
            <div class="user-info">
                <div class="avatar">
                    <i class="fas fa-user-circle"></i>
                </div>
                <div class="user-details">
                    <span id="user-email">carregando...</span>
                    <span id="user-unit">Unidade</span>
                </div>
            </div>
            
            <nav class="sidebar-nav">
                <ul>
                    <li data-section="dashboard">
                        <i class="fas fa-tachometer-alt"></i>
                        <span>Dashboard</span>
                    </li>
                    <li class="active" data-section="registro">
                        <i class="fas fa-edit"></i>
                        <span>Registrar</span>
                    </li>
                    <li data-section="Retrabalhos">
                        <i class="fas fa-layer-group"></i>
                        <span>Retrabalhos</span>
                    </li>
                    <li data-section="Custos">
                        <i class="fas fa-money-bill-1-wave"></i>
                        <span>Custos</span>
                    </li>
                    <li data-section="historico">
                        <i class="fas fa-history"></i>
                        <span>Histórico</span>
                    </li>
                </ul>
            </nav>
            
            <button id="logout-btn" class="logout-btn">
                <i class="fas fa-sign-out-alt"></i>
                <span>Sair</span>
            </button>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="content-header">
                <h2 id="section-title">Registrar</h2>
                <div class="header-info">
                    <div class="info-item">
                        <i class="fas fa-building"></i>
                        <span id="current-unit">Unidade</span>
                    </div>
                    <div class="info-item">
                        <i class="fas fa-calendar-day"></i>
                        <span id="current-date">00/00/0000</span>
                    </div>
                </div>
            </header>

            <!-- Register Section -->
            <section id="registro-section" class="content-section">
                <div class="register-card">
                    <h3>Registrar Movimentação</h3>
                    
                    <form id="register-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="reg-date">Data:</label>
                                <input type="date" id="reg-date" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="reg-shift">Turno:</label>
                                <select id="reg-shift" required>
                                    <option value="A">Turno A</option>
                                    <option value="B">Turno B</option>
                                    <option value="C">Turno C</option>
                                    <option value="D">Turno D</option>
                                    <option value="E">Turno E</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="reg-type">Tipo de Palete:</label>
                                <select id="reg-type" required>
                                    <option value="madeirite">Madeirite</option>
                                    <option value="chapatex">Chapatex</option>
                                    <option value="palete">Palete</option>
                                    <option value="slip_sheet">Slip Sheet</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="reg-operation">Operação:</label>
                                <select id="reg-operation" onchange="controlevisibilidade()" required>
                                    <option value="adicionar">Adicionar</option>
                                    <option value="avaria">Registrar Avaria</option>
                                    <option value="retrabalho">Registrar Retrabalho</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="reg-quantity">Quantidade:</label>
                                <input type="number" id="reg-quantity" min="1" value="1" required>
                            </div>
                        </div>
                        
                        <!-- Damage Fields (hidden by default) -->
                        <div id="damage-fields" class="dynamic-fields hidden">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="damage-reason">Motivo da Avaria:</label>
                                    <select id="damage-reason">
                                        <option value="tempo">Danificado pelo tempo</option>
                                        <option value="empilhadeira">Danificado por empilhadeira</option>
                                        <option value="empilhadeira_guizilim">Danificado por empilhadeira Guizilim</option>
                                        <option value="manuseio_ajudante">Manuseio do Ajudante</option>
                                        <option value="estoque_avariado">Recebido do Estoque Avariado</option>
                                        <option value="fabrica_avariada">Recebido da Fabrica Avariado</option>
                                        <option value="manuseio">Danificado no manuseio</option>
                                        <option value="palete_pregos">Palete com pregos</option>
                                        <option value="garra_incorreta">Pega da Garra incorreta</option>
                                        <option value="armazenagem_incorreta">Armazenagem incorreta</option>
                                        <option value="outro">Outro motivo</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label for="damage-details">Detalhes (opcional):</label>
                                    <input type="text" id="damage-details" placeholder="Detalhes adicionais">
                                </div>
                            </div>
                        </div>
                        
                        <!-- Rework Fields (hidden by default) -->
                        <div id="rework-fields" class="dynamic-fields hidden">
                            <div class="form-group">
                                <label>Quantidade de paletes retrabalhados:</label>
                                <div class="rework-grid">
                                    <div class="rework-item">
                                        <label>1ª vez</label>
                                        <input type="number" id="rework-1" min="0" value="0">
                                    </div>
                                    <div class="rework-item">
                                        <label>2ª vez</label>
                                        <input type="number" id="rework-2" min="0" value="0">
                                    </div>
                                    <div class="rework-item">
                                        <label>3ª vez</label>
                                        <input type="number" id="rework-3" min="0" value="0">
                                    </div>
                                    <div class="rework-item">
                                        <label>4ª vez</label>
                                        <input type="number" id="rework-4" min="0" value="0">
                                    </div>
                                    <div class="rework-item">
                                        <label>5ª vez</label>
                                        <input type="number" id="rework-5" min="0" value="0">
                                    </div>
                                    <div class="rework-item">
                                        <label>6ª vez</label>
                                        <input type="number" id="rework-6" min="0" value="0">
                                    </div>
                                    <div class="rework-item">
                                        <label>7ª vez</label>
                                        <input type="number" id="rework-7" min="0" value="0">
                                    </div>
                                    <div class="rework-item">
                                        <label>8ª vez</label>
                                        <input type="number" id="rework-8" min="0" value="0">
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-actions">
                            <button type="button" id="clear-form" class="btn secondary">
                                <i class="fas fa-broom"></i> Limpar
                            </button>
                            <button type="submit" class="btn primary">
                                <i class="fas fa-save"></i> Salvar
                            </button>
                        </div>
                    </form>
                </div>
            </section>
        </main>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    
    <!-- Main App -->
    <script src="../js/home.js"></script>
</body>
</html>